(A, a2s1.in1)
(B, a2s1.in2)
(A, a2s2.in1)
(C, a2s2.in2)
(C, a2s3.in1)
(B, a2s3.in2)
(a2s1.out, o3s1.in1)
(a2s2.out, o3s1.in2)
(a2s3.out, o3s1.in3)
(o3s1.out, Z)